{"ast":null,"code":"import { Chart } from 'chart.js/auto';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/user.service\";\nimport * as i2 from \"../services/reg_request.service\";\nimport * as i3 from \"../services/teaches.service\";\nexport class ChartsComponent {\n  constructor(userService, regRequestService, teachesService) {\n    this.userService = userService;\n    this.regRequestService = regRequestService;\n    this.teachesService = teachesService;\n  }\n  ngOnInit() {\n    this.userService.getGenderCount().subscribe(resp => {\n      let genderStudents = document.getElementById('genderStudents');\n      let data = {\n        labels: ['M', 'F'],\n        datasets: [{\n          data: [resp[0], resp[1]],\n          backgroundColor: ['rgb(54, 162, 235)', 'rgb(255, 99, 132)'],\n          hoverOffset: 4\n        }]\n      };\n      if (genderStudents != null) {\n        new Chart(genderStudents, {\n          type: 'pie',\n          data: data,\n          options: {\n            responsive: false,\n            maintainAspectRatio: false\n          }\n        });\n      }\n      let genderTutors = document.getElementById('genderTutors');\n      data.datasets = [{\n        data: [resp[2], resp[3]],\n        backgroundColor: ['rgb(54, 162, 235)', 'rgb(255, 99, 132)'],\n        hoverOffset: 4\n      }];\n      if (genderTutors != null) {\n        new Chart(genderTutors, {\n          type: 'pie',\n          data: data,\n          options: {\n            responsive: false,\n            maintainAspectRatio: false\n          }\n        });\n      }\n    });\n    this.regRequestService.getAgeCount().subscribe(resp => {\n      let age = document.getElementById('age');\n      let data = {\n        labels: ['Primary school - 1-4 grade', 'Primary school - 5-8 grade', 'High school'],\n        datasets: [{\n          lable: \"\",\n          data: [resp[0], resp[1], resp[2]],\n          backgroundColor: ['rgb(54, 162, 235)', 'rgb(255, 99, 132)', 'rgb(255, 205, 86)'],\n          hoverOffset: 4\n        }]\n      };\n      if (age != null) {\n        new Chart(age, {\n          type: 'bar',\n          data: data,\n          options: {\n            scales: {\n              y: {\n                beginAtZero: true\n              }\n            },\n            responsive: false,\n            maintainAspectRatio: false,\n            plugins: {\n              legend: {\n                display: false\n              }\n            }\n          }\n        });\n      }\n    });\n    this.teachesService.getCountForSubjects().subscribe(resp => {\n      let label = [];\n      let data = [];\n      resp.forEach((v, k) => {\n        label.push(k);\n        data.push(v);\n      });\n      let subjects = document.getElementById('subjects');\n      if (subjects != null) {\n        new Chart(subjects, {\n          type: 'bar',\n          data: {\n            labels: label,\n            datasets: [{\n              data: data\n            }]\n          }\n        });\n      }\n    });\n  }\n  static #_ = this.ɵfac = function ChartsComponent_Factory(t) {\n    return new (t || ChartsComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.RegRequestService), i0.ɵɵdirectiveInject(i3.TeachesService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ChartsComponent,\n    selectors: [[\"app-charts\"]],\n    decls: 18,\n    vars: 0,\n    consts: [[2, \"display\", \"inline-block\"], [1, \"text-center\"], [\"id\", \"genderStudents\", \"width\", \"300\", \"height\", \"300\"], [\"id\", \"genderTutors\", \"width\", \"300\", \"height\", \"300\"], [\"id\", \"subjects\", \"width\", \"400\", \"height\", \"300\"], [\"id\", \"age\", \"width\", \"400\", \"height\", \"300\"]],\n    template: function ChartsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\")(1, \"div\", 0)(2, \"h3\", 1);\n        i0.ɵɵtext(3, \"Students\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(4, \"canvas\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 0)(6, \"h3\", 1);\n        i0.ɵɵtext(7, \"Tutors\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(8, \"canvas\", 3);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"div\")(10, \"div\", 0)(11, \"h3\", 1);\n        i0.ɵɵtext(12, \"Subjects\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"canvas\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 0)(15, \"h3\", 1);\n        i0.ɵɵtext(16, \"Age\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"canvas\", 5);\n        i0.ɵɵelementEnd()();\n      }\n    },\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Chart","ChartsComponent","constructor","userService","regRequestService","teachesService","ngOnInit","getGenderCount","subscribe","resp","genderStudents","document","getElementById","data","labels","datasets","backgroundColor","hoverOffset","type","options","responsive","maintainAspectRatio","genderTutors","getAgeCount","age","lable","scales","y","beginAtZero","plugins","legend","display","getCountForSubjects","label","forEach","v","k","push","subjects","_","i0","ɵɵdirectiveInject","i1","UserService","i2","RegRequestService","i3","TeachesService","_2","selectors","decls","vars","consts","template","ChartsComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement"],"sources":["D:\\Faks\\7. semestar\\PIA\\PIA 2023\\Moj projekat\\frontend\\frontend\\src\\app\\charts\\charts.component.ts","D:\\Faks\\7. semestar\\PIA\\PIA 2023\\Moj projekat\\frontend\\frontend\\src\\app\\charts\\charts.component.html"],"sourcesContent":["import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\n//import * as ChartJS  from 'chart.js/auto';\nimport { UserService } from '../services/user.service';\nimport { RegRequestService } from '../services/reg_request.service';\nimport { Chart } from 'chart.js/auto';\nimport { TeachesService } from '../services/teaches.service';\n\n@Component({\n  selector: 'app-charts',\n  templateUrl: './charts.component.html',\n  styleUrls: ['./charts.component.css']\n})\nexport class ChartsComponent implements OnInit{\n\n  constructor(private userService:UserService, private regRequestService:RegRequestService, private teachesService:TeachesService) {}\n\n  ngOnInit(): void {\n    this.userService.getGenderCount().subscribe(resp=>{\n      let genderStudents = document.getElementById('genderStudents') as HTMLCanvasElement;\n      let data = {\n        labels: ['M','F'],\n        datasets: [{data: [resp[0], resp[1]], backgroundColor: ['rgb(54, 162, 235)','rgb(255, 99, 132)'], hoverOffset: 4}]\n      };\n      if(genderStudents != null) {\n        new Chart(genderStudents, {type: 'pie',data: data, options: {responsive: false, maintainAspectRatio: false}});\n      }\n      let genderTutors = document.getElementById('genderTutors') as HTMLCanvasElement;\n      data.datasets = [{data: [resp[2], resp[3]], backgroundColor: ['rgb(54, 162, 235)', 'rgb(255, 99, 132)'], hoverOffset: 4}];\n      if(genderTutors != null) {\n        new Chart(genderTutors, {type: 'pie',data: data, options: {responsive: false, maintainAspectRatio: false}});\n      }\n    })\n\n    this.regRequestService.getAgeCount().subscribe(resp=>{\n      let age = document.getElementById('age') as HTMLCanvasElement;\n      let data = {\n        labels: ['Primary school - 1-4 grade','Primary school - 5-8 grade','High school'],\n        datasets: [{lable: \"\", data: [resp[0], resp[1], resp[2]], backgroundColor: ['rgb(54, 162, 235)','rgb(255, 99, 132)','rgb(255, 205, 86)'], hoverOffset: 4}]\n      };\n      if(age != null) {\n        new Chart(age, {type: 'bar',data: data,\n        options: {\n          scales: {y: {beginAtZero: true}},\n          responsive: false,\n          maintainAspectRatio: false,\n          plugins: {legend: {display: false}}\n        }\n        });\n      }\n    })\n\n    this.teachesService.getCountForSubjects().subscribe(resp=>{\n      let label: string[] = [];\n      let data: number[] = [];\n      resp.forEach((v,k)=>{\n        label.push(k);\n        data.push(v);\n      })\n      let subjects = document.getElementById('subjects') as HTMLCanvasElement;\n      if(subjects != null) {\n        new Chart(subjects, {type:'bar', data:{labels:label, datasets:[{data:data}]}})\n      }\n    })\n  }\n    \n\n}\n","<div>\n    <div style=\"display: inline-block;\">\n        <h3 class=\"text-center\">Students</h3>\n        <canvas id=\"genderStudents\" width=\"300\" height=\"300\"></canvas>\n    </div>\n    <div style=\"display: inline-block;\">\n        <h3 class=\"text-center\">Tutors</h3>\n        <canvas id=\"genderTutors\" width=\"300\" height=\"300\"></canvas>\n    </div>\n</div>\n<div>\n    <div style=\"display: inline-block;\">\n        <h3 class=\"text-center\">Subjects</h3>\n        <canvas id=\"subjects\" width=\"400\" height=\"300\"></canvas>\n    </div>\n    <div style=\"display: inline-block;\">\n        <h3 class=\"text-center\">Age</h3>\n        <canvas id=\"age\" width=\"400\" height=\"300\"></canvas>\n    </div>\n</div>\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}