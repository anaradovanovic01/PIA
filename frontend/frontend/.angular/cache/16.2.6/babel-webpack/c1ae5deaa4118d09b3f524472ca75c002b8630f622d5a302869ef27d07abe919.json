{"ast":null,"code":"import { Chart } from 'chart.js/auto';\nimport * as i0 from \"@angular/core\";\nconst _c0 = [\"chart1Canvas\"];\nconst _c1 = [\"chart2Canvas\"];\nexport class ChartsComponent {\n  constructor() {}\n  ngOnInit() {}\n  ngAfterViewInit() {\n    this.createChart(this.chart1Canvas.nativeElement, 'bar', ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'], [12, 19, 3, 5, 2, 3]);\n    this.createChart(this.chart2Canvas.nativeElement, 'line', ['A', 'B', 'C', 'D', 'E'], [10, 20, 30, 40, 50]);\n  }\n  createChart(canvas, type, labels, data) {\n    new Chart(canvas, {\n      type: \"pie\",\n      data: {\n        labels: labels,\n        datasets: [{\n          label: '# of Votes',\n          data: data,\n          borderWidth: 1\n        }]\n      },\n      options: {\n        scales: {\n          y: {\n            beginAtZero: true\n          }\n        }\n      }\n    });\n  }\n  static #_ = this.ɵfac = function ChartsComponent_Factory(t) {\n    return new (t || ChartsComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ChartsComponent,\n    selectors: [[\"app-charts\"]],\n    viewQuery: function ChartsComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.chart1Canvas = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.chart2Canvas = _t.first);\n      }\n    },\n    decls: 2,\n    vars: 0,\n    consts: [[\"id\", \"genderStudents\", \"width\", \"400\", \"height\", \"300\"], [\"id\", \"genderTutors\", \"width\", \"300\", \"height\", \"400\"]],\n    template: function ChartsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"canvas\", 0)(1, \"canvas\", 1);\n      }\n    },\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Chart","ChartsComponent","constructor","ngOnInit","ngAfterViewInit","createChart","chart1Canvas","nativeElement","chart2Canvas","canvas","type","labels","data","datasets","label","borderWidth","options","scales","y","beginAtZero","_","_2","selectors","viewQuery","ChartsComponent_Query","rf","ctx","i0","ɵɵelement"],"sources":["D:\\Faks\\7. semestar\\PIA\\PIA 2023\\Moj projekat\\frontend\\frontend\\src\\app\\charts\\charts.component.ts","D:\\Faks\\7. semestar\\PIA\\PIA 2023\\Moj projekat\\frontend\\frontend\\src\\app\\charts\\charts.component.html"],"sourcesContent":["import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { Chart } from 'chart.js/auto';\nimport { UserService } from '../services/user.service';\nimport { RegRequestService } from '../services/reg_request.service';\n\n@Component({\n  selector: 'app-charts',\n  templateUrl: './charts.component.html',\n  styleUrls: ['./charts.component.css']\n})\nexport class ChartsComponent implements OnInit{\n\n  /*constructor(private userService:UserService, private regRequestService:RegRequestService) {}\n\n  ngOnInit(): void {\n    this.userService.getGenderCount().subscribe(resp=>{\n      let genderStudents = document.getElementById('genderStudents') as HTMLCanvasElement;\n      let data = {\n        labels: ['M','F'],\n        datasets: [{data: [resp[0], resp[1]], backgroundColor: ['rgb(54, 162, 235)','rgb(255, 99, 132)'], hoverOffset: 4}]\n      };\n      if(genderStudents != null) {\n        new Chart(genderStudents, {type: 'pie',data: data});\n      }\n      let genderTutors = document.getElementById('genderTutors') as HTMLCanvasElement;\n      data.datasets = [{data: [resp[2], resp[3]], backgroundColor: ['rgb(54, 162, 235)', 'rgb(255, 99, 132)'], hoverOffset: 4}];\n      if(genderTutors != null) {\n        new Chart(genderTutors, {type: 'pie',data: data});\n      }\n    })\n    this.regRequestService.getAgeCount().subscribe(resp=>{\n      let age = document.getElementById('age') as HTMLCanvasElement;\n      let data = {\n        labels: ['Primary school - 1-4 grade','Primary school - 5-8 grade','High school'],\n        datasets: [{lable: \"\", data: [resp[0], resp[1], resp[2]], backgroundColor: ['rgb(54, 162, 235)','rgb(255, 99, 132)','rgb(255, 205, 86)'], hoverOffset: 4}]\n      };\n      if(age != null) {\n        new Chart(age, {type: 'bar',data: data,\n        options: {\n          scales: {\n            y: {\n              beginAtZero: true\n            }\n          },\n          responsive: true,\n          aspectRatio:1.5,\n          plugins: {\n            legend: {\n              display: false\n            }\n          }\n        }\n        });\n      }\n    })\n  }\n    \n\n}*/\n\n  @ViewChild('chart1Canvas') chart1Canvas!: ElementRef;\n  @ViewChild('chart2Canvas') chart2Canvas!: ElementRef;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  ngAfterViewInit(): void {\n    this.createChart(this.chart1Canvas.nativeElement, 'bar', ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'], [12, 19, 3, 5, 2, 3]);\n    this.createChart(this.chart2Canvas.nativeElement, 'line', ['A', 'B', 'C', 'D', 'E'], [10, 20, 30, 40, 50]);\n  }\n\n  private createChart(canvas: HTMLCanvasElement, type: Chart.ChartType, labels: string[], data: number[]): void {\n    new Chart(canvas, {\n      type: \"pie\",\n      data: {\n        labels: labels,\n        datasets: [{\n          label: '# of Votes',\n          data: data,\n          borderWidth: 1\n        }]\n      },\n      options: {\n        scales: {\n          y: {\n            beginAtZero: true\n          }\n        }\n      }\n    });\n  }\n}\n","<!--<div>\n    <h3 class=\"text-center\">Students</h3>\n    <canvas id=\"genderStudents\"></canvas>\n</div>\n<div>\n    <h3 class=\"text-center\">Tutors</h3>\n    <canvas id=\"genderTutors\"></canvas>\n</div>\n<div>\n    <h3 class=\"text-center\">Age</h3>\n    <canvas id=\"age\"></canvas>\n</div>-->\n  \n\n<canvas id=\"genderStudents\" width=\"400\" height=\"300\"></canvas>\n<canvas id=\"genderTutors\" width=\"300\" height=\"400\"></canvas>"],"mappings":"AACA,SAASA,KAAK,QAAQ,eAAe;;;;AASrC,OAAM,MAAOC,eAAe;EAqD1BC,YAAA,GAAgB;EAEhBC,QAAQA,CAAA,GACR;EAEAC,eAAeA,CAAA;IACb,IAAI,CAACC,WAAW,CAAC,IAAI,CAACC,YAAY,CAACC,aAAa,EAAE,KAAK,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACtI,IAAI,CAACF,WAAW,CAAC,IAAI,CAACG,YAAY,CAACD,aAAa,EAAE,MAAM,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;EAC5G;EAEQF,WAAWA,CAACI,MAAyB,EAAEC,IAAqB,EAAEC,MAAgB,EAAEC,IAAc;IACpG,IAAIZ,KAAK,CAACS,MAAM,EAAE;MAChBC,IAAI,EAAE,KAAK;MACXE,IAAI,EAAE;QACJD,MAAM,EAAEA,MAAM;QACdE,QAAQ,EAAE,CAAC;UACTC,KAAK,EAAE,YAAY;UACnBF,IAAI,EAAEA,IAAI;UACVG,WAAW,EAAE;SACd;OACF;MACDC,OAAO,EAAE;QACPC,MAAM,EAAE;UACNC,CAAC,EAAE;YACDC,WAAW,EAAE;;;;KAIpB,CAAC;EACJ;EAAC,QAAAC,CAAA,G;qBAlFUnB,eAAe;EAAA;EAAA,QAAAoB,EAAA,G;UAAfpB,eAAe;IAAAqB,SAAA;IAAAC,SAAA,WAAAC,sBAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;;;;;;;;;;;;;;;QCI5BE,EAAA,CAAAC,SAAA,gBAA8D"},"metadata":{},"sourceType":"module","externalDependencies":[]}