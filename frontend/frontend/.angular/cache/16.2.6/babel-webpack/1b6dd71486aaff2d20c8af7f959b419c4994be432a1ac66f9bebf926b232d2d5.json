{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let AboutComponent = class AboutComponent {\n  constructor(userService, classService, teachesService, router) {\n    this.userService = userService;\n    this.classService = classService;\n    this.teachesService = teachesService;\n    this.router = router;\n    this.studentCount = 0;\n    this.tutorCount = 0;\n    this.tutors = [];\n    this.classesCountWeek = 0;\n    this.classesCountMonth = 0;\n    this.subjects = [];\n    this.map = new Map();\n  }\n  ngOnInit() {\n    this.userService.getStudentCount().subscribe(students => this.studentCount = students);\n    this.userService.getApprovedTutors().subscribe(tutors => {\n      this.tutors = tutors;\n      this.tutorCount = tutors.length;\n    });\n    this.classService.getClassesCountLastWeek().subscribe(classes => this.classesCountWeek = classes);\n    this.classService.getClassesCountLastMonth().subscribe(classes => this.classesCountMonth = classes);\n    this.teachesService.getSubjects().subscribe(subjects => {\n      this.subjects = subjects;\n      this.subjects.forEach(s => {\n        this.teachesService.getAllTutorForSubject(s).subscribe(tutors => {\n          let tutorsList = [];\n          tutors.forEach(t => {\n            this.userService.getUser(t).subscribe(user => {\n              let list = [];\n              list.push(user.firstname);\n              list.push(user.lastname);\n              tutorsList.push(list);\n            });\n          });\n          this.map.set(s, tutorsList);\n          console.log(tutorsList);\n        });\n      });\n    });\n  }\n};\nAboutComponent = __decorate([Component({\n  selector: 'app-about',\n  templateUrl: './about.component.html',\n  styleUrls: ['./about.component.css']\n})], AboutComponent);","map":{"version":3,"names":["Component","AboutComponent","constructor","userService","classService","teachesService","router","studentCount","tutorCount","tutors","classesCountWeek","classesCountMonth","subjects","map","Map","ngOnInit","getStudentCount","subscribe","students","getApprovedTutors","length","getClassesCountLastWeek","classes","getClassesCountLastMonth","getSubjects","forEach","s","getAllTutorForSubject","tutorsList","t","getUser","user","list","push","firstname","lastname","set","console","log","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\Faks\\7. semestar\\PIA\\PIA 2023\\Moj projekat\\frontend\\frontend\\src\\app\\about\\about.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { User } from '../models/User';\nimport { UserService } from '../services/user.service';\nimport { Router } from '@angular/router';\nimport { ClassService } from '../services/class.service';\nimport { Class } from '../models/Class';\nimport { TeachesService } from '../services/teaches.service';\n\n@Component({\n  selector: 'app-about',\n  templateUrl: './about.component.html',\n  styleUrls: ['./about.component.css']\n})\nexport class AboutComponent implements OnInit {\n\n  constructor(private userService:UserService, private classService:ClassService, private teachesService:TeachesService, private router:Router) {}\n\n  studentCount: number = 0;\n  tutorCount: number = 0;\n  tutors: User[] = [];\n  classesCountWeek: number = 0;\n  classesCountMonth: number = 0;\n  subjects: string[] = [];\n  map = new Map<string, string[][]>();\n\n  ngOnInit(): void {\n    this.userService.getStudentCount().subscribe(students=>this.studentCount=students);\n    this.userService.getApprovedTutors().subscribe(tutors=>{ this.tutors=tutors; this.tutorCount=tutors.length; });\n    this.classService.getClassesCountLastWeek().subscribe(classes=>this.classesCountWeek=classes);\n    this.classService.getClassesCountLastMonth().subscribe(classes=>this.classesCountMonth=classes);\n    this.teachesService.getSubjects().subscribe(subjects=>{\n      this.subjects=subjects\n      this.subjects.forEach(s=>{\n        this.teachesService.getAllTutorForSubject(s).subscribe(tutors=>{\n          let tutorsList: string[][] = [];\n          tutors.forEach(t=>{\n            this.userService.getUser(t).subscribe(user=>{\n              let list: string[] = [];\n              list.push(user.firstname);\n              list.push(user.lastname);\n              tutorsList.push(list);\n            })\n          })\n          this.map.set(s, tutorsList);\n          console.log(tutorsList);\n        })\n      })\n    });\n    \n  }\n\n}"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAa1C,WAAMC,cAAc,GAApB,MAAMA,cAAc;EAEzBC,YAAoBC,WAAuB,EAAUC,YAAyB,EAAUC,cAA6B,EAAUC,MAAa;IAAxH,KAAAH,WAAW,GAAXA,WAAW;IAAsB,KAAAC,YAAY,GAAZA,YAAY;IAAuB,KAAAC,cAAc,GAAdA,cAAc;IAAyB,KAAAC,MAAM,GAANA,MAAM;IAErI,KAAAC,YAAY,GAAW,CAAC;IACxB,KAAAC,UAAU,GAAW,CAAC;IACtB,KAAAC,MAAM,GAAW,EAAE;IACnB,KAAAC,gBAAgB,GAAW,CAAC;IAC5B,KAAAC,iBAAiB,GAAW,CAAC;IAC7B,KAAAC,QAAQ,GAAa,EAAE;IACvB,KAAAC,GAAG,GAAG,IAAIC,GAAG,EAAsB;EAR4G;EAU/IC,QAAQA,CAAA;IACN,IAAI,CAACZ,WAAW,CAACa,eAAe,EAAE,CAACC,SAAS,CAACC,QAAQ,IAAE,IAAI,CAACX,YAAY,GAACW,QAAQ,CAAC;IAClF,IAAI,CAACf,WAAW,CAACgB,iBAAiB,EAAE,CAACF,SAAS,CAACR,MAAM,IAAE;MAAE,IAAI,CAACA,MAAM,GAACA,MAAM;MAAE,IAAI,CAACD,UAAU,GAACC,MAAM,CAACW,MAAM;IAAE,CAAC,CAAC;IAC9G,IAAI,CAAChB,YAAY,CAACiB,uBAAuB,EAAE,CAACJ,SAAS,CAACK,OAAO,IAAE,IAAI,CAACZ,gBAAgB,GAACY,OAAO,CAAC;IAC7F,IAAI,CAAClB,YAAY,CAACmB,wBAAwB,EAAE,CAACN,SAAS,CAACK,OAAO,IAAE,IAAI,CAACX,iBAAiB,GAACW,OAAO,CAAC;IAC/F,IAAI,CAACjB,cAAc,CAACmB,WAAW,EAAE,CAACP,SAAS,CAACL,QAAQ,IAAE;MACpD,IAAI,CAACA,QAAQ,GAACA,QAAQ;MACtB,IAAI,CAACA,QAAQ,CAACa,OAAO,CAACC,CAAC,IAAE;QACvB,IAAI,CAACrB,cAAc,CAACsB,qBAAqB,CAACD,CAAC,CAAC,CAACT,SAAS,CAACR,MAAM,IAAE;UAC7D,IAAImB,UAAU,GAAe,EAAE;UAC/BnB,MAAM,CAACgB,OAAO,CAACI,CAAC,IAAE;YAChB,IAAI,CAAC1B,WAAW,CAAC2B,OAAO,CAACD,CAAC,CAAC,CAACZ,SAAS,CAACc,IAAI,IAAE;cAC1C,IAAIC,IAAI,GAAa,EAAE;cACvBA,IAAI,CAACC,IAAI,CAACF,IAAI,CAACG,SAAS,CAAC;cACzBF,IAAI,CAACC,IAAI,CAACF,IAAI,CAACI,QAAQ,CAAC;cACxBP,UAAU,CAACK,IAAI,CAACD,IAAI,CAAC;YACvB,CAAC,CAAC;UACJ,CAAC,CAAC;UACF,IAAI,CAACnB,GAAG,CAACuB,GAAG,CAACV,CAAC,EAAEE,UAAU,CAAC;UAC3BS,OAAO,CAACC,GAAG,CAACV,UAAU,CAAC;QACzB,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC,CAAC;EAEJ;CAED;AAtCY3B,cAAc,GAAAsC,UAAA,EAL1BvC,SAAS,CAAC;EACTwC,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,C,EACWzC,cAAc,CAsC1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}