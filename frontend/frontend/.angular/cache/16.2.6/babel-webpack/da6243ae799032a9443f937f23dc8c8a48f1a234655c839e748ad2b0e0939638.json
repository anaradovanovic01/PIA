{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let ChangePasswordComponent = class ChangePasswordComponent {\n  constructor(service, app) {\n    this.service = service;\n    this.app = app;\n  }\n  ngOnInit() {\n    this.user = JSON.parse(localStorage.getItem('loggedIn'));\n    if (!this.user) this.loggedIn = false;else this.loggedIn = true;\n  }\n  save() {\n    if (!this.old || !this.new || !this.confirm) {\n      this.message = \"Please fill out all fields before continuing.\";\n      return;\n    }\n    this.service.login(this.user.username, this.old).subscribe(user => {\n      if (!user) {\n        this.message = 'The old password is not correct!';\n      } else {\n        if (this.new !== this.confirm) {\n          this.message = \"The new password and the cofirmed password do not match!\";\n        } else {\n          this.service.changePassword(this.user.username, this.new).subscribe(resp => {\n            if (resp[\"success\"] == true) {\n              this.message = '';\n              alert(\"You have successfully changed the password.\");\n              this.app.profile();\n            } else this.message = \"Error\";\n          });\n        }\n      }\n    });\n  }\n};\nChangePasswordComponent = __decorate([Component({\n  selector: 'app-change-password',\n  templateUrl: './change-password.component.html',\n  styleUrls: ['./change-password.component.css']\n})], ChangePasswordComponent);","map":{"version":3,"names":["Component","ChangePasswordComponent","constructor","service","app","ngOnInit","user","JSON","parse","localStorage","getItem","loggedIn","save","old","new","confirm","message","login","username","subscribe","changePassword","resp","alert","profile","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\Faks\\7. semestar\\PIA\\PIA 2023\\Moj projekat\\frontend\\frontend\\src\\app\\change-password\\change-password.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-change-password',\n  templateUrl: './change-password.component.html',\n  styleUrls: ['./change-password.component.css']\n})\nexport class ChangePasswordComponent {\n\n  constructor(private service: UsersService, public app: AppComponent) { }\n\n  ngOnInit() {\n    this.user = JSON.parse(localStorage.getItem('loggedIn'));\n    if(!this.user) this.loggedIn = false;\n    else this.loggedIn = true;\n  }\n\n  loggedIn: boolean;\n  user: User;\n  old: string;\n  new: string;\n  confirm: string;\n  message: string;\n\n  save() {\n    if(!this.old || !this.new || !this.confirm) {\n      this.message = \"Please fill out all fields before continuing.\"; \n      return;\n    }\n    this.service.login(this.user.username, this.old).subscribe((user: User)=>{\n      if(!user){\n        this.message = 'The old password is not correct!';\n      } else {\n        if(this.new !== this.confirm) {\n          this.message = \"The new password and the cofirmed password do not match!\"\n        }\n        else {\n          this.service.changePassword(this.user.username, this.new).subscribe((resp)=>{\n            if (resp[\"success\"] == true) {\n              this.message = '';\n              alert(\"You have successfully changed the password.\")\n              this.app.profile();\n            }\n            else \n              this.message = \"Error\";\n          })\n        }\n      }\n    })\n  }\n  \n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAOlC,WAAMC,uBAAuB,GAA7B,MAAMA,uBAAuB;EAElCC,YAAoBC,OAAqB,EAASC,GAAiB;IAA/C,KAAAD,OAAO,GAAPA,OAAO;IAAuB,KAAAC,GAAG,GAAHA,GAAG;EAAkB;EAEvEC,QAAQA,CAAA;IACN,IAAI,CAACC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC;IACxD,IAAG,CAAC,IAAI,CAACJ,IAAI,EAAE,IAAI,CAACK,QAAQ,GAAG,KAAK,CAAC,KAChC,IAAI,CAACA,QAAQ,GAAG,IAAI;EAC3B;EASAC,IAAIA,CAAA;IACF,IAAG,CAAC,IAAI,CAACC,GAAG,IAAI,CAAC,IAAI,CAACC,GAAG,IAAI,CAAC,IAAI,CAACC,OAAO,EAAE;MAC1C,IAAI,CAACC,OAAO,GAAG,+CAA+C;MAC9D;;IAEF,IAAI,CAACb,OAAO,CAACc,KAAK,CAAC,IAAI,CAACX,IAAI,CAACY,QAAQ,EAAE,IAAI,CAACL,GAAG,CAAC,CAACM,SAAS,CAAEb,IAAU,IAAG;MACvE,IAAG,CAACA,IAAI,EAAC;QACP,IAAI,CAACU,OAAO,GAAG,kCAAkC;OAClD,MAAM;QACL,IAAG,IAAI,CAACF,GAAG,KAAK,IAAI,CAACC,OAAO,EAAE;UAC5B,IAAI,CAACC,OAAO,GAAG,0DAA0D;SAC1E,MACI;UACH,IAAI,CAACb,OAAO,CAACiB,cAAc,CAAC,IAAI,CAACd,IAAI,CAACY,QAAQ,EAAE,IAAI,CAACJ,GAAG,CAAC,CAACK,SAAS,CAAEE,IAAI,IAAG;YAC1E,IAAIA,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,EAAE;cAC3B,IAAI,CAACL,OAAO,GAAG,EAAE;cACjBM,KAAK,CAAC,6CAA6C,CAAC;cACpD,IAAI,CAAClB,GAAG,CAACmB,OAAO,EAAE;aACnB,MAEC,IAAI,CAACP,OAAO,GAAG,OAAO;UAC1B,CAAC,CAAC;;;IAGR,CAAC,CAAC;EACJ;CAED;AA5CYf,uBAAuB,GAAAuB,UAAA,EALnCxB,SAAS,CAAC;EACTyB,QAAQ,EAAE,qBAAqB;EAC/BC,WAAW,EAAE,kCAAkC;EAC/CC,SAAS,EAAE,CAAC,iCAAiC;CAC9C,CAAC,C,EACW1B,uBAAuB,CA4CnC"},"metadata":{},"sourceType":"module","externalDependencies":[]}