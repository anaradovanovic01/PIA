{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let RegisterTutorComponent = class RegisterTutorComponent {\n  constructor(tutorService, router, app) {\n    this.tutorService = tutorService;\n    this.router = router;\n    this.app = app;\n    this.username = \"\";\n    this.cv = \"\";\n    this.subjects = [];\n    this.age = \"\";\n    this.where = \"\";\n    this.other = \"\";\n    this.message = \"\";\n    this.loggedIn = false;\n  }\n  ngOnInit() {\n    let item = localStorage.getItem('loggedIn');\n    if (item) this.loggedIn = true;\n    item = localStorage.getItem(\"username\");\n    if (item) this.username = item;\n    if (this.username == \"\") {\n      alert(\"Error! You are not authorized to be on this page.\");\n      this.router.navigate(['register']);\n    }\n  }\n  register() {\n    if ( /*this.cv == \"\" ||*/this.subjects.length == 0 || this.age == \"\" || this.where == \"\") {\n      this.message = \"Please fill out all fields before continuing.\";\n      return;\n    }\n    let subjectsStr = \"\";\n    this.subjects.forEach(s => subjectsStr += s + ' ');\n    if (this.other != \"\") subjectsStr += this.other + ' ';\n    this.tutorService.register(this.username, this.cv, subjectsStr, this.age, this.where).subscribe(resp => {\n      if (resp == 0) {\n        this.message = \"Invalid data\";\n      } else {\n        alert(\"You have successfully signed up!\");\n        this.router.navigate(['/login']);\n      }\n    });\n  }\n  logout() {\n    this.app.logout();\n  }\n  profile() {\n    this.app.profile();\n  }\n};\nRegisterTutorComponent = __decorate([Component({\n  selector: 'app-register-tutor',\n  templateUrl: './register-tutor.component.html',\n  styleUrls: ['./register-tutor.component.css']\n})], RegisterTutorComponent);","map":{"version":3,"names":["Component","RegisterTutorComponent","constructor","tutorService","router","app","username","cv","subjects","age","where","other","message","loggedIn","ngOnInit","item","localStorage","getItem","alert","navigate","register","length","subjectsStr","forEach","s","subscribe","resp","logout","profile","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\Faks\\7. semestar\\PIA\\PIA 2023\\Moj projekat\\frontend\\frontend\\src\\app\\register-tutor\\register-tutor.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { TutorService } from '../services/reg_request.service';\nimport { Router } from '@angular/router';\nimport { AppComponent } from '../app.component';\n\n@Component({\n  selector: 'app-register-tutor',\n  templateUrl: './register-tutor.component.html',\n  styleUrls: ['./register-tutor.component.css']\n})\nexport class RegisterTutorComponent {\n\n  constructor(private tutorService:TutorService, private router:Router, private app:AppComponent) { }\n\n  ngOnInit(): void {\n    let item = localStorage.getItem('loggedIn');\n    if(item) this.loggedIn = true;\n    item = localStorage.getItem(\"username\");\n    if(item) this.username = item;\n    if(this.username == \"\") {\n      alert(\"Error! You are not authorized to be on this page.\");\n      this.router.navigate(['register']);\n    }\n  }\n\n  username: string = \"\";\n  cv: string = \"\";\n  subjects: string[] = [];\n  age: string = \"\";\n  where: string = \"\";\n  other: string = \"\";\n  message: string = \"\";\n  loggedIn: boolean= false;\n\n  register() {\n    if(/*this.cv == \"\" ||*/ this.subjects.length==0 || this.age == \"\" || this.where == \"\") {\n      this.message = \"Please fill out all fields before continuing.\"; \n      return;\n    }\n    let subjectsStr = \"\";\n    this.subjects.forEach(s=>subjectsStr+=s+' ');\n    if(this.other != \"\") subjectsStr += this.other + ' ';\n    this.tutorService.register(this.username, this.cv, subjectsStr, this.age, this.where).subscribe((resp) => {\n      if(resp == 0) {\n        this.message = \"Invalid data\";\n      }\n      else {\n          alert(\"You have successfully signed up!\");\n          this.router.navigate(['/login']);\n      }\n    });\n  }\n\n  logout() {\n    this.app.logout();\n  }\n\n  profile() {\n    this.app.profile();\n  }\n\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAUlC,WAAMC,sBAAsB,GAA5B,MAAMA,sBAAsB;EAEjCC,YAAoBC,YAAyB,EAAUC,MAAa,EAAUC,GAAgB;IAA1E,KAAAF,YAAY,GAAZA,YAAY;IAAuB,KAAAC,MAAM,GAANA,MAAM;IAAiB,KAAAC,GAAG,GAAHA,GAAG;IAajF,KAAAC,QAAQ,GAAW,EAAE;IACrB,KAAAC,EAAE,GAAW,EAAE;IACf,KAAAC,QAAQ,GAAa,EAAE;IACvB,KAAAC,GAAG,GAAW,EAAE;IAChB,KAAAC,KAAK,GAAW,EAAE;IAClB,KAAAC,KAAK,GAAW,EAAE;IAClB,KAAAC,OAAO,GAAW,EAAE;IACpB,KAAAC,QAAQ,GAAW,KAAK;EApB0E;EAElGC,QAAQA,CAAA;IACN,IAAIC,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;IAC3C,IAAGF,IAAI,EAAE,IAAI,CAACF,QAAQ,GAAG,IAAI;IAC7BE,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;IACvC,IAAGF,IAAI,EAAE,IAAI,CAACT,QAAQ,GAAGS,IAAI;IAC7B,IAAG,IAAI,CAACT,QAAQ,IAAI,EAAE,EAAE;MACtBY,KAAK,CAAC,mDAAmD,CAAC;MAC1D,IAAI,CAACd,MAAM,CAACe,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;;EAEtC;EAWAC,QAAQA,CAAA;IACN,KAAG,oBAAqB,IAAI,CAACZ,QAAQ,CAACa,MAAM,IAAE,CAAC,IAAI,IAAI,CAACZ,GAAG,IAAI,EAAE,IAAI,IAAI,CAACC,KAAK,IAAI,EAAE,EAAE;MACrF,IAAI,CAACE,OAAO,GAAG,+CAA+C;MAC9D;;IAEF,IAAIU,WAAW,GAAG,EAAE;IACpB,IAAI,CAACd,QAAQ,CAACe,OAAO,CAACC,CAAC,IAAEF,WAAW,IAAEE,CAAC,GAAC,GAAG,CAAC;IAC5C,IAAG,IAAI,CAACb,KAAK,IAAI,EAAE,EAAEW,WAAW,IAAI,IAAI,CAACX,KAAK,GAAG,GAAG;IACpD,IAAI,CAACR,YAAY,CAACiB,QAAQ,CAAC,IAAI,CAACd,QAAQ,EAAE,IAAI,CAACC,EAAE,EAAEe,WAAW,EAAE,IAAI,CAACb,GAAG,EAAE,IAAI,CAACC,KAAK,CAAC,CAACe,SAAS,CAAEC,IAAI,IAAI;MACvG,IAAGA,IAAI,IAAI,CAAC,EAAE;QACZ,IAAI,CAACd,OAAO,GAAG,cAAc;OAC9B,MACI;QACDM,KAAK,CAAC,kCAAkC,CAAC;QACzC,IAAI,CAACd,MAAM,CAACe,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;;IAEtC,CAAC,CAAC;EACJ;EAEAQ,MAAMA,CAAA;IACJ,IAAI,CAACtB,GAAG,CAACsB,MAAM,EAAE;EACnB;EAEAC,OAAOA,CAAA;IACL,IAAI,CAACvB,GAAG,CAACuB,OAAO,EAAE;EACpB;CAED;AAnDY3B,sBAAsB,GAAA4B,UAAA,EALlC7B,SAAS,CAAC;EACT8B,QAAQ,EAAE,oBAAoB;EAC9BC,WAAW,EAAE,iCAAiC;EAC9CC,SAAS,EAAE,CAAC,gCAAgC;CAC7C,CAAC,C,EACW/B,sBAAsB,CAmDlC"},"metadata":{},"sourceType":"module","externalDependencies":[]}